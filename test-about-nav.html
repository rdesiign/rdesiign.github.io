<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test About Navigation</title>
    <link rel="stylesheet" href="styles.css?v=1.1">
</head>
<body>
    <!-- Floating Navigation Bar -->
    <nav class="floating-navbar" id="main-navbar">
        <!-- Navigation Container (hidden by default) -->
        <div class="nav-container" id="nav-container">
            <a href="index.html#intro" class="nav-link" data-section="home">Home</a>
            <a href="index.html#projects" class="nav-link" data-section="projects">Projects</a>
            <a href="about.html" class="nav-link active" data-section="about">About</a>
            <a href="index.html#experience" class="nav-link" data-section="experience">More</a>
            <!-- Theme Toggle Button -->
            <button class="theme-toggle" id="theme-toggle" aria-label="Toggle theme">
                <span class="theme-icon"></span>
            </button>
            <!-- Plus/Minus Toggle Button -->
            <button class="nav-toggle" id="nav-toggle" aria-label="Toggle navigation">
                <span class="nav-toggle-icon">+</span>
            </button>
        </div>
    </nav>

    <!-- Contact Icons (placed vertically on the right side) -->
    <div class="contact-icons-vertical">
        <a href="mailto:hello@rishiramesh.com" class="contact-icon-link" aria-label="Email">
            <svg class="contact-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path>
                <polyline points="22,6 12,13 2,6"></polyline>
            </svg>
        </a>
        <a href="https://linkedin.com/in/rishiramesh" class="contact-icon-link" target="_blank" aria-label="LinkedIn">
            <svg class="contact-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"></path>
                <rect x="2" y="9" width="4" height="12"></rect>
                <circle cx="4" cy="4" r="2"></circle>
            </svg>
        </a>
        <a href="tel:+1234567890" class="contact-icon-link" aria-label="Phone">
            <svg class="contact-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>
            </svg>
        </a>
    </div>

    <section class="section" style="height: 200vh; padding: 100px 20px;">
        <div class="container">
            <h1>Test Page for About Navigation</h1>
            <p>Scroll down to test if the contact link becomes active. It should not become active on this page.</p>
            <div style="height: 150vh;"></div>
            <p>If you've scrolled to the bottom and the contact link is not active, the fix is working.</p>
        </div>
    </section>

    <script>
        // Test script to verify navigation behavior
        document.addEventListener('DOMContentLoaded', function() {
            // Set a flag to indicate we're on the about page
            window.IS_ABOUT_PAGE = true;
            
            // Get all navigation links
            const navLinks = document.querySelectorAll('.nav-link');
            
            // Ensure only the About link is active
            function ensureOnlyAboutActive() {
                navLinks.forEach(link => {
                    if (link.getAttribute('data-section') === 'about') {
                        // Ensure About link is active
                        if (!link.classList.contains('active')) {
                            link.classList.add('active');
                        }
                    } else {
                        // Ensure all other links are inactive
                        if (link.classList.contains('active')) {
                            link.classList.remove('active');
                        }
                    }
                });
            }
            
            // Run immediately
            ensureOnlyAboutActive();
            
            // Run on scroll with capture to override other handlers
            window.addEventListener('scroll', ensureOnlyAboutActive, { capture: true, passive: true });
            
            // Run periodically to ensure the state is maintained
            setInterval(ensureOnlyAboutActive, 100);
            
            // Set up MutationObserver to watch for class changes
            const observer = new MutationObserver(function(mutations) {
                mutations.forEach(function(mutation) {
                    if (mutation.type === 'attributes' && mutation.attributeName === 'class') {
                        const target = mutation.target;
                        if (target.classList.contains('nav-link')) {
                            ensureOnlyAboutActive();
                        }
                    }
                });
            });
            
            // Observe all nav links for class changes
            navLinks.forEach(function(link) {
                observer.observe(link, { attributes: true });
            });
            
            console.log('Test page navigation protection initialized');
        });
    </script>
</body>
</html>