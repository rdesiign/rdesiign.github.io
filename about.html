<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>About | Rishi Ramesh | Industrial Designer Portfolio</title>
    <meta name="description" content="Learn more about Rishi Ramesh, an industrial designer specializing in product design, user experience, and innovative solutions.">
    <!-- Performance optimizations -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <link rel="stylesheet" href="styles.css?v=1.0">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <!-- Preload critical resources -->
    <link rel="preload" href="Assets/Profile raw 4.jpg" as="image">
</head>
<body>
    <!-- Custom Cursor Elements -->
    <div class="custom-cursor">
        <div class="custom-cursor-dot"></div>
    </div>

    <!-- Floating Navigation Bar -->
    <nav class="floating-navbar" id="main-navbar">
        <div class="nav-container">
            <a href="index.html#home" class="nav-link" data-section="home">Home</a>
            <a href="index.html#projects" class="nav-link" data-section="projects">Projects</a>
            <a href="index.html#experience" class="nav-link" data-section="experience">Concept Playground</a>
            <a href="about.html" class="nav-link active" data-section="about">About</a>
            <a href="index.html#contact" class="nav-link" data-section="contact">Contact</a>
            <button class="theme-toggle" id="theme-toggle" aria-label="Toggle theme">
                <span id="theme-icon">🌙</span>
            </button>
        </div>
    </nav>

    <!-- About Section -->
    <section id="about" class="section">
        <div class="container">
            <div class="about-content">
                <div class="about-image">
                    <img src="Assets/Profile raw 4.jpg" alt="Rishi Ramesh - Industrial Designer" class="profile-image" loading="lazy">
                </div>
                <div class="about-text">
                    <div id="about-content">
                        <h3>Hi, I'm <span class="highlight">Rishi</span></h3>
                        <p>I'm an Industrial Designer who enjoys working on thoughtful, hands-on projects that range from simple everyday tools to seamlessly integrated physical-digital experiences. I keep my design approach flexible; I like to adapt my choice of tools and methodologies to each project and the challenges it presents, rather than following a fixed process. This approach helps me broaden my skill set and keeps my process fresh, exciting, and open to new ideas.</p>
                        <p></p>
                        <a href="#" class="btn btn-primary">Download my CV</a>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Override the main script to prevent navigation interference -->
    <script>
        // Completely override the initializeNavigation function to prevent it from running on this page
        function initializeNavigation() {
            // Do nothing - we want to keep the About link active
            console.log('Navigation initialization overridden for about page');
        }
        
        // Also override the updateActiveLink function
        function updateActiveLink() {
            // Do nothing - we want to keep the About link active
            console.log('Active link update overridden for about page');
        }
        
        // Override the click handlers for navigation links to ensure they work properly
        document.addEventListener('DOMContentLoaded', function() {
            // Add a small delay to ensure DOM is fully loaded
            setTimeout(function() {
                const navLinks = document.querySelectorAll('.nav-link');
                navLinks.forEach(link => {
                    // Remove any existing event listeners by cloning
                    const newLink = link.cloneNode(true);
                    link.parentNode.replaceChild(newLink, link);
                    
                    // For the About link, make sure it stays active
                    if (newLink.getAttribute('data-section') === 'about') {
                        newLink.classList.add('active');
                    }
                    
                    // We don't add any click event listeners here to ensure default navigation behavior
                    // The links should work with their href attributes
                });
            }, 100);
        });
    </script>
    
    <script src="script.js"></script>
    
    <!-- Initialize theme and other components for this page -->
    <script>
        // Flag to track if animation has started
        let aboutPageAnimationStarted = false;
        
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize all components to ensure consistent behavior
            if (typeof initializeComponents === 'function') {
                initializeComponents();
            }
            
            // Initialize theme - check if function exists
            if (typeof initializeTheme === 'function') {
                initializeTheme();
            } else {
                // Fallback: set dark mode as default (as per user preference)
                const savedTheme = localStorage.getItem('theme') || 'dark';
                document.documentElement.setAttribute('data-theme', savedTheme);
                const themeIcon = document.getElementById('theme-icon');
                if (themeIcon) {
                    themeIcon.textContent = savedTheme === 'dark' ? '🌙' : '☀️️';
                }
            }
            
            // Ensure dark mode is set as default if no saved theme
            if (!localStorage.getItem('theme')) {
                document.documentElement.setAttribute('data-theme', 'dark');
                const themeIcon = document.getElementById('theme-icon');
                if (themeIcon) {
                    themeIcon.textContent = '🌙';
                }
            }
            
            // Highlight the About link in navigation and prevent it from being overridden
            setTimeout(function() {
                const aboutLink = document.querySelector('.nav-link[data-section="about"]');
                if (aboutLink) {
                    // Remove active class from all nav links
                    const navLinks = document.querySelectorAll('.nav-link');
                    navLinks.forEach(link => link.classList.remove('active'));
                    
                    // Add active class to About link
                    aboutLink.classList.add('active');
                    
                    // Add a special class to identify this as a standalone about page
                    document.body.classList.add('about-page');
                }
            }, 100);
            
            // Custom Cursor JavaScript
            const cursor = document.querySelector('.custom-cursor');
            // Array to store trail elements
            const trails = [];
            const trailCount = 30; // Reduced from 50 to make line effect more pronounced
            
            // Create trail elements
            for (let i = 0; i < trailCount; i++) {
                const trail = document.createElement('div');
                trail.className = 'cursor-trail';
                document.body.appendChild(trail);
                trails.push({
                    element: trail,
                    x: 0,
                    y: 0,
                    opacity: 0,
                    size: 4,
                    rotation: 0
                });
            }
            
            // Function to get average brightness of background at cursor position
            function getBackgroundBrightness(x, y) {
                // Create a temporary element to get the background color
                const tempElement = document.elementFromPoint(x, y);
                if (!tempElement) return 128; // Default to middle brightness
                
                // Get the background color of the element
                const bgColor = window.getComputedStyle(tempElement).backgroundColor;
                
                // If it's transparent or rgba(0, 0, 0, 0), traverse up the DOM
                if (bgColor === 'rgba(0, 0, 0, 0)' || bgColor === 'transparent') {
                    let parent = tempElement.parentElement;
                    while (parent) {
                        const parentBg = window.getComputedStyle(parent).backgroundColor;
                        if (parentBg !== 'rgba(0, 0, 0, 0)' && parentBg !== 'transparent') {
                            return calculateBrightness(parentBg);
                        }
                        parent = parent.parentElement;
                    }
                    // If we reach here, use body background
                    const bodyBg = window.getComputedStyle(document.body).backgroundColor;
                    return calculateBrightness(bodyBg);
                }
                
                return calculateBrightness(bgColor);
            }
            
            // Function to calculate brightness from RGB values
            function calculateBrightness(rgb) {
                // Parse RGB values
                const match = rgb.match(/rgba?\((\d+),\s*(\d+),\s*(\d+)/);
                if (!match) return 128; // Default to middle brightness
                
                const r = parseInt(match[1]);
                const g = parseInt(match[2]);
                const b = parseInt(match[3]);
                
                // Calculate brightness using luminance formula
                return (r * 299 + g * 587 + b * 114) / 1000;
            }
            
            // Function to update cursor color based on background
            function updateCursorColor(x, y) {
                const brightness = getBackgroundBrightness(x, y);
                // Remove any existing background classes
                cursor.classList.remove('light-bg', 'dark-bg');
                
                // Add appropriate class based on brightness
                if (brightness > 128) {
                    cursor.classList.add('light-bg');
                } else {
                    cursor.classList.add('dark-bg');
                }
            }
            
            // Mouse move event
            let mouseX = 0;
            let mouseY = 0;
            let prevMouseX = 0;
            let prevMouseY = 0;
            let trailPositions = [];
            let lastMoveTime = Date.now();
            let moveTimer = null;
            let lastTrailTime = 0;
            let isMoving = false;
            
            document.addEventListener('mousemove', function(e) {
                prevMouseX = mouseX;
                prevMouseY = mouseY;
                mouseX = e.clientX;
                mouseY = e.clientY;
                const now = Date.now();
                lastMoveTime = now;
                isMoving = true;
                
                // Calculate cursor speed (distance/time)
                const distance = Math.sqrt(Math.pow(mouseX - prevMouseX, 2) + Math.pow(mouseY - prevMouseY, 2));
                const timeDiff = now - (lastMoveTime || now);
                const speed = timeDiff > 0 ? distance / timeDiff : 0;
                
                // Move main cursor immediately
                cursor.style.left = mouseX + 'px';
                cursor.style.top = mouseY + 'px';
                
                // Update cursor color based on background
                updateCursorColor(mouseX, mouseY);
                
                // Store position for trail on every move for more consistent trail
                trailPositions.push({
                    x: mouseX, 
                    y: mouseY,
                    speed: speed,
                    timestamp: now
                });
                if (trailPositions.length > trailCount) {
                    trailPositions.shift();
                }
                
                // Update trail positions more frequently for smoother effect
                if (now - lastTrailTime > 8) { // ~120fps for trail updates (more frequent)
                    // Update trail positions with delay
                    trails.forEach((trail, index) => {
                        if (trailPositions[index]) {
                            const pos = trailPositions[index];
                            const nextPos = trailPositions[index + 1] || pos;
                            
                            trail.element.style.left = pos.x + 'px';
                            trail.element.style.top = pos.y + 'px';
                            
                            // Point trail in direction of movement
                            if (nextPos && nextPos !== pos) {
                                const angle = Math.atan2(nextPos.y - pos.y, nextPos.x - pos.x) * 180 / Math.PI;
                                trail.element.style.transform = `translate(-50%, -50%) rotate(${angle}deg)`;
                            }
                            
                            // Adjust trail appearance based on speed - more responsive to slow movement
                            let speedFactor = 0;
                            if (pos.speed > 0) {
                                // More sensitive to slow movement
                                speedFactor = Math.min(pos.speed / 3, 1); // Even lower divisor for better slow movement response
                            }
                            
                            // Base opacity with minimum visibility for any movement
                            const minOpacity = 0.4; // Increased minimum opacity
                            const maxOpacity = 1.0;
                            const opacity = minOpacity + (speedFactor * (maxOpacity - minOpacity));
                            
                            // Animate opacity with reversed fade (fading from end of path)
                            const reversedIndex = trailCount - 1 - index;
                            const fadeFactor = (1 - (reversedIndex / trailCount));
                            trail.element.style.opacity = fadeFactor * opacity;
                            
                            // Adjust trail length based on speed
                            const minLength = 10;
                            const maxLength = 30;
                            const length = minLength + (speedFactor * (maxLength - minLength));
                            trail.element.style.width = length + 'px';
                        }
                    });
                    
                    lastTrailTime = now;
                }
                
                // Clear any existing timer
                if (moveTimer) {
                    clearTimeout(moveTimer);
                }
                
                // Set timer to hide trail when cursor stops
                moveTimer = setTimeout(() => {
                    isMoving = false;
                    // Completely hide all trail elements
                    trails.forEach(trail => {
                        trail.element.style.opacity = '0';
                        // Reset positions to prevent ghosting
                        trail.element.style.left = '-100px';
                        trail.element.style.top = '-100px';
                    });
                    // Clear trail positions
                    trailPositions = [];
                }, 100); // Hide trail 100ms after cursor stops
            });
            
            // Show custom cursor
            cursor.style.display = 'block';
            
            // Handle all clickable elements with a single, clean approach
            // This ensures no conflicts between different event handlers
            document.addEventListener('mouseover', function(e) {
                // Check if we have a cursor element
                if (!cursor) return;
                
                // Check if the hovered element is a navigation link
                if (e.target.classList && e.target.classList.contains('nav-link')) {
                    cursor.classList.add('target');
                    cursor.classList.add('no-dot');
                }
                // Check if the hovered element is any other clickable element
                else if (e.target.tagName === 'A' || e.target.tagName === 'BUTTON' || 
                         (e.target.classList && e.target.classList.contains('theme-toggle'))) {
                    cursor.classList.add('target');
                    // Don't add 'no-dot' class for non-navigation elements
                }
            });
            
            document.addEventListener('mouseout', function(e) {
                // Check if we have a cursor element
                if (!cursor) return;
                
                // Remove all cursor states when mouse leaves any element
                cursor.classList.remove('target');
                cursor.classList.remove('no-dot');
                cursor.classList.remove('light-bg', 'dark-bg');
            });
            
            // Make sure navigation links work properly by not preventing their default behavior
            // The mouseover/mouseout events above only change cursor appearance and don't interfere with navigation
            
            // Hide cursor when leaving window
            document.addEventListener('mouseleave', function() {
                isMoving = false;
                if (cursor) {
                    cursor.style.display = 'none';
                }
                trails.forEach(trail => {
                    trail.element.style.display = 'none';
                    trail.element.style.opacity = '0';
                });
                // Clear trail positions
                trailPositions = [];
            });
            
            // Show cursor when entering window
            document.addEventListener('mouseenter', function() {
                if (cursor) {
                    cursor.style.display = 'block';
                }
                trails.forEach(trail => {
                    trail.element.style.display = 'block';
                });
            });
            
            // Override navigation behavior to keep About link active
            setTimeout(function() {
                const aboutLink = document.querySelector('.nav-link[data-section="about"]');
                if (aboutLink) {
                    // Remove active class from all nav links
                    const navLinks = document.querySelectorAll('.nav-link');
                    navLinks.forEach(link => link.classList.remove('active'));
                    
                    // Add active class to About link
                    aboutLink.classList.add('active');
                }
                
                // Additional safeguard: Set up a MutationObserver to watch for changes
                const observer = new MutationObserver(function(mutations) {
                    mutations.forEach(function(mutation) {
                        if (mutation.type === 'attributes' && mutation.attributeName === 'class') {
                            const target = mutation.target;
                            if (target.classList.contains('nav-link') && target.getAttribute('data-section') === 'about') {
                                // Ensure the About link stays active
                                if (!target.classList.contains('active')) {
                                    target.classList.add('active');
                                }
                            }
                        }
                    });
                });
                
                // Observe all nav links for class changes
                const navLinks = document.querySelectorAll('.nav-link');
                navLinks.forEach(function(link) {
                    observer.observe(link, { attributes: true });
                });
            }, 500);
            
            // Initialize fade-in animation for about section
            function initializeAboutFadeInAnimation() {
                const contentContainer = document.getElementById('about-content');
                if (contentContainer) {
                    const heading = contentContainer.querySelector('h3');
                    const paragraph = contentContainer.querySelector('p');
                    const button = contentContainer.querySelector('a');
                    
                    if (heading && paragraph && button) {
                        // Set initial opacity to 0 for fade-in effect
                        heading.style.opacity = '0';
                        paragraph.style.opacity = '0';
                        button.style.opacity = '0';
                        
                        // Add transition for smooth fade-in (faster timing)
                        heading.style.transition = 'opacity 0.4s ease-in-out';
                        paragraph.style.transition = 'opacity 0.4s ease-in-out 0.1s';
                        button.style.transition = 'opacity 0.4s ease-in-out 0.2s';
                        
                        // Trigger fade-in immediately (removed delay)
                        setTimeout(() => {
                            heading.style.opacity = '1';
                            paragraph.style.opacity = '1';
                            button.style.opacity = '1';
                        }, 100); // Small delay to ensure DOM is ready
                    }
                }
            }
            
            // Remove the scroll-dependent visibility check and trigger animation immediately
            // Check on initial load
            setTimeout(function() {
                initializeAboutFadeInAnimation();
            }, 100); // Reduced from 1000ms to 100ms for faster appearance
            
            // Remove the scroll event listener for the fade-in animation since we want it to happen automatically
            // The original scroll event listener has been removed
            
            // Set up theme toggle button event listener

        });
        
        // Remove the scroll event listener completely since we want the text to appear automatically
        // The scroll event listener that was triggering the fade-in animation based on scrolling has been removed
        // Text will now appear automatically when the page loads
    </script>
</body>
</html>