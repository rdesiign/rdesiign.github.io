<!DOCTYPE html>
<html lang="en" class="no-js">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <title>Smart Home Assistant Device | Rishi Ramesh</title>
    <meta name="description" content="A voice-activated home assistant with intuitive physical controls and ambient lighting designed for modern living spaces.">
    <!-- Mobile-specific meta tags -->
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="theme-color" content="#8b5cf6">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <!-- Preload critical images with optimization hints -->
    <link rel="preload" as="image" href="mmm/MMM 1.png" fetchpriority="high">
    <link rel="prefetch" as="image" href="mmm/MMM 2.png">
    <link rel="stylesheet" href="styles.css">
    <script>
        // Add cache-busting timestamp to ensure latest versions
        const timestamp = new Date().getTime();
        document.write('<link rel="stylesheet" href="styles.css?v=' + timestamp + '">');
    </script>
    <style>
        /* Project Page Specific Styles */
        .project-page {
            min-height: 100vh;
            padding-top: 100px;
        }
        
        .project-hero {
            padding: 60px 20px;
            max-width: 1200px;
            margin: 0 auto;
            text-align: center;
        }
        
        .project-title {
            font-size: clamp(2.5rem, 5vw, 4rem);
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: 24px;
            line-height: 1.1;
        }
        
        .project-description {
            font-size: 18px;
            color: var(--text-secondary);
            line-height: 1.7;
            margin-bottom: 40px;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
        }
        
        .project-meta {
            display: flex;
            justify-content: center;
            gap: 40px;
            margin-bottom: 40px;
            flex-wrap: wrap;
        }
        
        .meta-item {
            text-align: center;
        }
        
        .meta-label {
            font-size: 12px;
            color: var(--text-tertiary);
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 6px;
        }
        
        .meta-value {
            font-size: 16px;
            color: var(--text-primary);
            font-weight: 600;
        }
        
        .project-tags {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 12px;
            margin-bottom: 60px;
        }
        
        .project-tag {
            background: rgba(20, 184, 166, 0.2);
            color: #14b8a6;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 14px;
            font-weight: 500;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(20, 184, 166, 0.3);
        }
        
        /* Image Gallery */
        .image-gallery {
            padding: 0;
            background: var(--bg-primary);
        }
        
        .gallery-container {
            width: 100%;
            margin: 0;
        }
        
        .gallery-grid {
            display: flex;
            flex-direction: column;
            gap: 0;
            margin-bottom: 40px;
            width: 100%;
        }
        
        .gallery-item {
            position: relative;
            cursor: pointer;
            width: 100%;
            margin-bottom: 0;
        }
        
        .gallery-item img {
            width: 100%;
            height: auto;
            object-fit: cover;
            display: block;
            image-rendering: -webkit-optimize-contrast;
            image-rendering: optimize-contrast;
        }
        
        /* Lazy loading placeholder */
        .lazy-image {
            background-color: #f0f0f0;
            min-height: 300px;
            opacity: 0;
            transition: opacity 0.3s ease;
            background-image: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGNpcmNsZSBjeD0iMjAiIGN5PSIyMCIgcj0iMTgiIHN0cm9rZT0iI0NDQyIgc3Ryb2tlLXdpZHRoPSI0Ii8+CjxwYXRoIGQ9Ik0yMCAxMFYzME0xMCAyMEgzMCIgc3Ryb2tlPSIjQ0NDIiBzdHJva2Utd2lkdGg9IjIiLz4KPC9zdmc+');
            background-repeat: no-repeat;
            background-position: center;
            background-size: 40px 40px;
        }
        
        .lazy-image.loaded {
            opacity: 1;
        }
        
        /* Image Modal */
        .image-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            z-index: 10000;
            display: none;
            align-items: center;
            justify-content: center;
            backdrop-filter: blur(10px);
        }
        
        .image-modal.active {
            display: flex;
        }
        
        .modal-content {
            position: relative;
            max-width: 90vw;
            max-height: 90vh;
        }
        
        .modal-image {
            width: 100%;
            height: 100%;
            object-fit: contain;
            border-radius: 0;
            box-shadow: none;
        }
        
        .modal-close {
            position: absolute;
            top: -50px;
            right: 0;
            background: rgba(255, 255, 255, 0.2);
            border: none;
            color: white;
            font-size: 24px;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            backdrop-filter: blur(10px);
        }
        
        .modal-close:hover {
            background: rgba(255, 255, 255, 0.3);
        }
        
        .modal-nav {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(255, 255, 255, 0.2);
            border: none;
            color: white;
            font-size: 20px;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            backdrop-filter: blur(10px);
        }
        
        .modal-nav:hover {
            background: rgba(255, 255, 255, 0.3);
        }
        
        .modal-nav.prev {
            left: -70px;
        }
        
        .modal-nav.next {
            right: -70px;
        }
        
        .modal-caption {
            position: absolute;
            bottom: -50px;
            left: 0;
            right: 0;
            color: white;
            text-align: center;
            font-size: 16px;
            opacity: 0.8;
        }
        
        /* Back Navigation */
        .back-nav {
            position: fixed;
            top: 20px;
            left: 20px;
            z-index: 1000;
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            border: 1px solid var(--glass-border);
            border-radius: 12px;
            padding: 12px 20px;
            color: var(--text-primary);
            text-decoration: none;
            font-weight: 500;
            transition: all 0.3s ease;
        }
        
        .back-nav:hover {
            background: rgba(139, 92, 246, 0.1);
            border-color: rgba(139, 92, 246, 0.3);
            transform: translateY(-2px);
        }
        
        /* Mobile Responsive */
        @media (max-width: 768px) {
            .project-hero {
                padding: 40px 15px;
            }
            
            .project-meta {
                gap: 20px;
            }
            
            .back-nav {
                top: 10px;
                left: 10px;
                padding: 8px 16px;
                font-size: 14px;
            }
            
            .modal-nav {
                display: none;
            }
            
            .modal-close {
                top: -40px;
                right: 10px;
                width: 36px;
                height: 36px;
                font-size: 20px;
            }
            
            .modal-caption {
                bottom: -60px;
                left: 10px;
                right: 10px;
                font-size: 14px;
            }
        }
        
        @media (max-width: 480px) {
            .project-hero {
                padding: 30px 12px;
            }
            
            .modal-content {
                max-width: 95vw;
                max-height: 85vh;
            }
        }
    </style>
</head>
<body>
    <!-- Back Navigation -->
    <a href="index.html" class="back-nav">‚Üê Back to Portfolio</a>

    <!-- Project Page Content -->
    <div class="project-page">
        <!-- Project Hero Section -->
        <section class="project-hero">
            <h1 class="project-title">Smart Home Assistant Device</h1>
            <p class="project-description">A voice-activated home assistant with intuitive physical controls and ambient lighting designed for seamless integration into modern living spaces. This project showcases the complete design process from initial concept to final product visualization.</p>
            
            <div class="project-meta">
                <div class="meta-item">
                    <div class="meta-label">Role</div>
                    <div class="meta-value">Lead Industrial Designer</div>
                </div>
                <div class="meta-item">
                    <div class="meta-label">Duration</div>
                    <div class="meta-value">8 months</div>
                </div>
                <div class="meta-item">
                    <div class="meta-label">Year</div>
                    <div class="meta-value">2023</div>
                </div>
            </div>
            
            <div class="project-tags">
                <span class="project-tag">Product Design</span>
                <span class="project-tag">IoT</span>
                <span class="project-tag">User Interface</span>
            </div>
        </section>

        <!-- Image Gallery -->
        <section class="image-gallery">
            <div class="gallery-container">
                <div class="gallery-grid">
                    <div class="gallery-item" data-image="mmm/MMM 1.png" data-caption="Smart Home Assistant - Hero View">
                        <img src="mmm/MMM 1.png" alt="Smart Home Assistant - Hero View" loading="eager" decoding="async" fetchpriority="high" />
                    </div>
                    <div class="gallery-item" data-image="mmm/MMM 2.png" data-caption="Smart Home Assistant - Detail View">
                        <img data-src="mmm/MMM 2.png" alt="Smart Home Assistant - Detail View" loading="lazy" decoding="async" class="lazy-image" fetchpriority="low" />
                    </div>
                    <div class="gallery-item" data-image="mmm/MMM 3.png" data-caption="Smart Home Assistant - Interface Design">
                        <img data-src="mmm/MMM 3.png" alt="Smart Home Assistant - Interface Design" loading="lazy" decoding="async" class="lazy-image" fetchpriority="low" />
                    </div>
                    <div class="gallery-item" data-image="mmm/MMM 4.png" data-caption="Smart Home Assistant - Components">
                        <img data-src="mmm/MMM 4.png" alt="Smart Home Assistant - Components" loading="lazy" decoding="async" class="lazy-image" fetchpriority="low" />
                    </div>
                    <div class="gallery-item" data-image="mmm/MMM 5.png" data-caption="Smart Home Assistant - Technical Drawings">
                        <img data-src="mmm/MMM 5.png" alt="Smart Home Assistant - Technical Drawings" loading="lazy" decoding="async" class="lazy-image" fetchpriority="low" />
                    </div>
                    <div class="gallery-item" data-image="mmm/MMM 6.png" data-caption="Smart Home Assistant - Environment Integration">
                        <img data-src="mmm/MMM 6.png" alt="Smart Home Assistant - Environment Integration" loading="lazy" decoding="async" class="lazy-image" fetchpriority="low" />
                    </div>
                    <div class="gallery-item" data-image="mmm/MMM 7.png" data-caption="Smart Home Assistant - Color Variations">
                        <img data-src="mmm/MMM 7.png" alt="Smart Home Assistant - Color Variations" loading="lazy" decoding="async" class="lazy-image" fetchpriority="low" />
                    </div>
                    <div class="gallery-item" data-image="mmm/MMM 8.png" data-caption="Smart Home Assistant - User Interaction">
                        <img data-src="mmm/MMM 8.png" alt="Smart Home Assistant - User Interaction" loading="lazy" decoding="async" class="lazy-image" fetchpriority="low" />
                    </div>
                    <div class="gallery-item" data-image="mmm/MMM 9.png" data-caption="Smart Home Assistant - Lighting System">
                        <img data-src="mmm/MMM 9.png" alt="Smart Home Assistant - Lighting System" loading="lazy" decoding="async" class="lazy-image" fetchpriority="low" />
                    </div>
                    <div class="gallery-item" data-image="mmm/MMM 10.png" data-caption="Smart Home Assistant - Final Product">
                        <img data-src="mmm/MMM 10.png" alt="Smart Home Assistant - Final Product" loading="lazy" decoding="async" class="lazy-image" fetchpriority="low" />
                    </div>
                </div>
            </div>
        </section>
    </div>

    <!-- Image Modal -->
    <div id="image-modal" class="image-modal">
        <div class="modal-content">
            <button class="modal-close" onclick="closeImageModal()">&times;</button>
            <button class="modal-nav prev" onclick="previousImage()">&#8249;</button>
            <img id="modal-image" class="modal-image" src="" alt="">
            <button class="modal-nav next" onclick="nextImage()">&#8250;</button>
            <div id="modal-caption" class="modal-caption"></div>
        </div>
    </div>

    <!-- Footer -->
    <footer>
        <p>&copy; 2024 Rishi Ramesh. All rights reserved. Designed with passion for great products.</p>
    </footer>

    <script src="script.js" defer></script>
    <script>
        // Cache-busting for JavaScript file
        const jsTimestamp = new Date().getTime();
        const scriptElement = document.createElement('script');
        scriptElement.src = 'script.js?v=' + jsTimestamp;
        scriptElement.defer = true;
        document.head.appendChild(scriptElement);
    </script>
    <script>
        // Image gallery functionality
        let currentImageIndex = 0;
        let images = [];
        
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize image gallery
            initializeImageGallery();
            
            // Register Service Worker for image caching
            if ('serviceWorker' in navigator) {
                navigator.serviceWorker.register('sw.js')
                    .then(registration => {
                        console.log('SW registered:', registration);
                    })
                    .catch(error => {
                        console.log('SW registration failed:', error);
                    });
            }
        });
        
        function initializeImageGallery() {
            const galleryItems = document.querySelectorAll('.gallery-item');
            images = Array.from(galleryItems).map(item => ({
                src: item.getAttribute('data-image'),
                caption: item.getAttribute('data-caption')
            }));
            
            galleryItems.forEach((item, index) => {
                item.addEventListener('click', () => openImageModal(index));
            });
            
            // Initialize lazy loading
            initializeLazyLoading();
            
            // Close modal on escape key
            document.addEventListener('keydown', function(e) {
                if (e.key === 'Escape') {
                    closeImageModal();
                }
                if (e.key === 'ArrowLeft') {
                    previousImage();
                }
                if (e.key === 'ArrowRight') {
                    nextImage();
                }
            });
            
            // Close modal on background click
            document.getElementById('image-modal').addEventListener('click', function(e) {
                if (e.target === this) {
                    closeImageModal();
                }
            });
        }
        
        function initializeLazyLoading() {
            if ('IntersectionObserver' in window) {
                const imageObserver = new IntersectionObserver((entries, observer) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            const img = entry.target;
                            if (img.dataset.src) {
                                // Create a new image to preload
                                const newImg = new Image();
                                newImg.onload = () => {
                                    img.src = img.dataset.src;
                                    img.classList.add('loaded');
                                };
                                newImg.onerror = () => {
                                    // Fallback: still set src even if preload fails
                                    img.src = img.dataset.src;
                                    img.classList.add('loaded');
                                };
                                newImg.src = img.dataset.src;
                                img.removeAttribute('data-src');
                                observer.unobserve(img);
                            }
                        }
                    });
                }, {
                    rootMargin: '100px 0px', // Increased for better UX
                    threshold: 0.01
                });
                
                document.querySelectorAll('.lazy-image').forEach(img => {
                    imageObserver.observe(img);
                });
            } else {
                // Fallback for browsers without IntersectionObserver
                document.querySelectorAll('.lazy-image').forEach(img => {
                    if (img.dataset.src) {
                        img.src = img.dataset.src;
                        img.classList.add('loaded');
                        img.removeAttribute('data-src');
                    }
                });
            }
        }
        
        function openImageModal(index) {
            currentImageIndex = index;
            const modal = document.getElementById('image-modal');
            const modalImage = document.getElementById('modal-image');
            const modalCaption = document.getElementById('modal-caption');
            
            // Preload current and adjacent images for faster navigation
            preloadModalImages(index);
            
            modalImage.src = images[index].src;
            modalImage.alt = images[index].caption;
            modalCaption.textContent = images[index].caption;
            
            modal.classList.add('active');
            // Prevent background scrolling
            document.body.style.overflow = 'hidden';
            document.documentElement.style.overflow = 'hidden';
        }
        
        function preloadModalImages(currentIndex) {
            // Preload current, next, and previous images
            const indicesToPreload = [
                currentIndex,
                (currentIndex + 1) % images.length,
                (currentIndex - 1 + images.length) % images.length
            ];
            
            indicesToPreload.forEach(index => {
                if (images[index] && !document.querySelector(`link[href="${images[index].src}"]`)) {
                    const link = document.createElement('link');
                    link.rel = 'preload';
                    link.as = 'image';
                    link.href = images[index].src;
                    document.head.appendChild(link);
                }
            });
        }
        
        function closeImageModal() {
            const modal = document.getElementById('image-modal');
            modal.classList.remove('active');
            // Restore background scrolling
            document.body.style.overflow = 'auto';
            document.documentElement.style.overflow = 'auto';
        }
        
        function previousImage() {
            currentImageIndex = (currentImageIndex - 1 + images.length) % images.length;
            updateModalImage();
        }
        
        function nextImage() {
            currentImageIndex = (currentImageIndex + 1) % images.length;
            updateModalImage();
        }
        
        function updateModalImage() {
            const modalImage = document.getElementById('modal-image');
            const modalCaption = document.getElementById('modal-caption');
            
            // Preload adjacent images for smooth navigation
            preloadModalImages(currentImageIndex);
            
            modalImage.src = images[currentImageIndex].src;
            modalImage.alt = images[currentImageIndex].caption;
            modalCaption.textContent = images[currentImageIndex].caption;
        }
    </script>
</body>
</html>